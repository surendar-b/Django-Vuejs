{"ast":null,"code":"export default {\n  name: 'UpdateProduct',\n\n  data() {\n    return {\n      id: null,\n      products: [],\n      categoryid: null,\n      product_name: null,\n      price: null\n    };\n  },\n\n  async mounted() {\n    let response = await fetch('http://127.0.0.1:8000/getproducts/');\n    let product = await response.json();\n    this.products = product;\n    console.warn(product);\n  },\n\n  methods: {\n    async update() {\n      const requestOptions = {\n        method: 'PUT',\n        body: JSON.stringify({\n          \"category\": this.categoryid,\n          \"product_name\": this.product_name,\n          \"price\": this.price\n        })\n      };\n      let url = 'http://127.0.0.1:8000/update/product/' + this.id.id;\n      let response = await fetch(url, requestOptions);\n      let result = await response.json();\n      console.log(result);\n\n      if (result.success == true) {\n        //console.log(result)\n        this.$router.push(\"/treeview\");\n      }\n    },\n\n    async onChange() {\n      let url = 'http://127.0.0.1:8000/get/product/' + this.id.id;\n      let response = await fetch(url);\n      let resp = await response.json();\n      this.categoryid = resp.category;\n      this.product_name = resp.product_name;\n      this.price = resp.price;\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAgBA,eAAe;EACfA,IAAG,EAAI,eADQ;;EAEfC,IAAI,GAAE;IACF,OAAM;MACFC,EAAE,EAAC,IADD;MAEFC,QAAQ,EAAC,EAFP;MAGFC,UAAU,EAAE,IAHV;MAIFC,YAAY,EAAE,IAJZ;MAKFC,KAAK,EAAC;IALJ,CAAN;EAOH,CAVc;;EAWf,MAAMC,OAAN,GAAgB;IACZ,IAAIC,QAAO,GAAI,MAAMC,KAAK,CAAC,oCAAD,CAA1B;IACA,IAAIC,OAAM,GAAI,MAAMF,QAAQ,CAACG,IAAT,EAApB;IACA,KAAKR,QAAL,GAAgBO,OAAhB;IACAE,OAAO,CAACC,IAAR,CAAaH,OAAb;EACH,CAhBc;;EAiBfI,OAAO,EAAE;IACL,MAAMC,MAAN,GAAc;MACV,MAAMC,cAAa,GAAI;QACvBC,MAAM,EAAE,KADe;QAEvBC,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;UAAE,YAAW,KAAKhB,UAAlB;UAA6B,gBAAe,KAAKC,YAAjD;UAA8D,SAAQ,KAAKC;QAA3E,CAAf;MAFiB,CAAvB;MAIA,IAAIe,GAAE,GAAI,0CAAwC,KAAKnB,EAAL,CAAQA,EAA1D;MACA,IAAIM,QAAO,GAAI,MAAMC,KAAK,CAACY,GAAD,EAAKL,cAAL,CAA1B;MACA,IAAIM,MAAK,GAAI,MAAMd,QAAQ,CAACG,IAAT,EAAnB;MACAC,OAAO,CAACW,GAAR,CAAYD,MAAZ;;MACA,IAAGA,MAAM,CAACE,OAAP,IAAgB,IAAnB,EACA;QACI;QACA,KAAKC,OAAL,CAAaC,IAAb,CAAkB,WAAlB;MACJ;IACH,CAfI;;IAgBL,MAAMC,QAAN,GAAgB;MACZ,IAAIN,GAAE,GAAI,uCAAqC,KAAKnB,EAAL,CAAQA,EAAvD;MACA,IAAIM,QAAO,GAAI,MAAMC,KAAK,CAACY,GAAD,CAA1B;MACA,IAAIO,IAAI,GAAE,MAAMpB,QAAQ,CAACG,IAAT,EAAhB;MACA,KAAKP,UAAL,GAAiBwB,IAAI,CAACC,QAAtB;MACA,KAAKxB,YAAL,GAAoBuB,IAAI,CAACvB,YAAzB;MACA,KAAKC,KAAL,GAAWsB,IAAI,CAACtB,KAAhB;IACJ;;EAvBK;AAjBM,CAAf","names":["name","data","id","products","categoryid","product_name","price","mounted","response","fetch","product","json","console","warn","methods","update","requestOptions","method","body","JSON","stringify","url","result","log","success","$router","push","onChange","resp","category"],"sourceRoot":"","sources":["/home/surendar/Caresoft/front-end/src/views/UpdateProduct.vue"],"sourcesContent":["<template>\n  <div>\n    <h1>Update Product</h1>\n    <select v-model=\"id\" @change=\"onChange\">\n    <option v-for=\"item in products\" :value=\"item\" :key=\"item.id\">\n      {{ item.product_name }}\n    </option>\n  </select><br>\n  <input type=\"text\" placeholder=\"categoryId\" readonly v-model=\"categoryid\" class=\"inptext\"><br>\n  <input type=\"text\" placeholder=\"New Product Name\" v-model=\"product_name\" class=\"inptext\"><br>\n  <input type=\"number\" placeholder=\"New Price\" v-model=\"price\" class=\"inptnum\"><br>\n    <button @click=\"update\" class=\"btn3\">Update Product</button>\n  </div>\n</template>\n\n<script>\nexport default {\nname : 'UpdateProduct',\ndata(){\n    return{\n        id:null,\n        products:[],\n        categoryid: null,\n        product_name: null,\n        price:null,\n    }\n},\nasync mounted() {\n    let response = await fetch('http://127.0.0.1:8000/getproducts/')\n    let product = await response.json()\n    this.products = product\n    console.warn(product)\n},\nmethods: {\n    async update(){\n        const requestOptions = {\n        method: 'PUT',\n        body: JSON.stringify({ \"category\":this.categoryid,\"product_name\":this.product_name,\"price\":this.price })\n        };\n        let url = 'http://127.0.0.1:8000/update/product/'+this.id.id\n        let response = await fetch(url,requestOptions)\n        let result = await response.json()\n        console.log(result)\n        if(result.success==true)\n        {\n            //console.log(result)\n            this.$router.push(\"/treeview\");\n        }\n    },\n    async onChange(){\n        let url = 'http://127.0.0.1:8000/get/product/'+this.id.id\n        let response = await fetch(url)\n        let resp= await response.json()\n        this.categoryid= resp.category\n        this.product_name = resp.product_name\n        this.price=resp.price\n    }\n}\n}\n</script>\n\n<style>\n.selects-sel {\n  border: #f0e119;\n  width: 100px;\n  height: 40px;\n  font-size: 12px;\n}\n.inptext[type=text] {\n  width: 35%;\n  padding: 12px 15px;\n  margin: 8px 0;\n  box-sizing: border-box;\n  border: 2px solid rgba(255, 251, 0, 0.733);\n  border-radius: 4px;\n}\n.inptnum[type=number] {\n  width: 35%;\n  padding: 12px 15px;\n  margin: 8px 0;\n  box-sizing: border-box;\n  border: 2px solid rgba(255, 251, 0, 0.733);\n  border-radius: 4px;\n}\n.btn3 {\n  background-color: white;\n  color: black;\n  border: 2px solid #f1e210; /* Green */\n  border-radius: 4px;\n  padding: 12px 28px;\n  width: 175px;\n  font-weight: bold;\n}\n.btn3:hover {\n  background-color: #f0e119; /* Green */\n  color: white;\n}\n\nselect {\n        width: 470px;\n        height: 35px;\n        padding: 5px 35px 5px 5px;\n        font-size: 18px;\n      }\nh1{\n    color:#fle210;\n}\n</style>"]},"metadata":{},"sourceType":"module"}